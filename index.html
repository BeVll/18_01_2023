<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    
</head>
<body>
    <p>First [p]</p>
    <hr>
    <p class="intro">Second & intro [p]</p>
    <hr>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
    <hr>
    <a href="">Link [a]</a>
    <a href="" target="_blank">_blank</a>
    <hr>
    <table cellspacing="2">
        <tr>
            <td>Row 1 Col 1</td>
            <td>Row 1 Col 2</td>
            <td>Row 1 Col 2</td>
        </tr>
        <tr>
            <td>Row 2 Col 1</td>
            <td>Row 2 Col 2</td>
            <td>Row 2 Col 2</td>
        </tr>
        <tr>
            <td>Row 3 Col 1</td>
            <td>Row 3 Col 2</td>
            <td>Row 3 Col 2</td>
        </tr>
    </table>

    <button id="btn1">$("*")</button>
    <button id="btn2">$(this)</button>
    <button id="btn3">$("p.intro")</button>
    <button id="btn4">$("p:first")</button>
    <button id="btn5">$("ul li:first")</button>
    <button id="btn6">$("ul li:first-child")</button>
    <button id="btn7">$("[href]")</button>
    <button id="btn8">$("a[target='_blank']")</button>
    <button id="btn9">$("a[target!='_blank']")</button>
    <button id="btn10">$(":button")</button>
    <button id="btn11">$("tr:even")</button>
    <button id="btn12">$("tr:odd")</button>
    <br>
    <br>
    <hr>
    <hr>
    <br>
    <h2>Task 2</h2>
    <div class="windows">
        <div class="win1">
            <span>Window 1</span>
            <div id="obj1"></div>
        </div>
        <div class="win2">
            <span>Window 2</span>
            <div class="obj2"></div>
            <div id="ball"></div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>

    </script>
    <script>
        function randomIntFromInterval(min, max) { // min and max included 
            return Math.floor(Math.random() * (max - min + 1) + min)
        }
        function sleep2(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        $(async function move_ball(){
            let start = true;
            let rand_x = 0.00;
            let rand_y = 0.00;
            while(true){
                

                    if(start == true){
                    // rand_x = ra
                    rand_y = Math.floor((Math.random() * 1));
                    console.log(Math.floor(((Math.random() * (1.000 - 0.0000) + 0.0000).toFixed(4))));
                    }
                    let l = $("#ball").position().left;
                    let t = $("#ball").position().top;
                    $("#ball").css( "left", l + rand_x);
                    $("#ball").css( "top", t + rand_y);
                    console.log(l+":"+t+" "+rand_x+":"+rand_y);
                    await sleep2(1000);
                
            }
            
        });


        $(function() {
            

            var isDragging = false;
            $("#obj1")
            .mousedown(function() {
                isDragging = true;
            })
            .mousemove(function(event) {
                if(isDragging != false){
                    isDragging = true;
                    if(event.pageX - $(this).parent().offset().left - ($(this).width()/2) >= 0 && event.pageY - $(this).parent().offset().top  - ($(this).height()/2) >= 0 && event.pageY - $(this).parent().offset().top  + ($(this).height()/2) <= $(".win1").height() && event.pageX - $(this).parent().offset().left  + ($(this).width()/2) <= $(".win1").width()){
                        $("#obj1").css( "left", event.pageX - $(this).parent().offset().left - ($(this).width()/2));
                        $("#obj1").css( "top", event.pageY - $(this).parent().offset().top - ($(this).height()/2));
                    }
                    
                }
                
            })
            .mouseup(function() {
                var wasDragging = isDragging;
                isDragging = false;
                $("#obj1").css( "left", 0);
                $("#obj1").css( "top", 0);
            });

         
        });
        // $("#obj1").mousedown(function(event){
        //     $( "#obj1" ).mousemove(function( event ) {
        //         $("#obj1").css( "left", event.pageX - $(this).parent().offset().left - ($(this).width()/2));
        //         $("#obj1").css( "top", event.pageY - $(this).parent().offset().top - ($(this).height()/2));
        //         $("#obj1").mouseup(function(event){
        //             console.log(1);
        //             $("#obj1").css( "left", 0);
        //             $("#obj1").css( "top", 0);
        //             $("#obj1").off("mousemove", event);
                  
                    
        //         })
        //     });
            
        // })
        
        $(document).keypress(function(event) {
            console.log(event.which);
            if ( event.which == 97 ) {
                event.preventDefault();
                for (let i = 0; i < 5; i++) {
                    let l = $(".obj2").position().left;
                    if(l <= 0){
                        break;
                    }
                    else{
                        $(".obj2").css( "left", l-1);
                    }
                }
                
            }
            else if ( event.which == 100 ) {
                for (let i = 0; i < 5; i++) {
                    let l = $(".obj2").position().left;
                    if(l >= $(".win2").width()-$(".obj2").width()){
                        break;
                    }
                    else{
                        $(".obj2").css( "left", l+1);
                    }
                }
            }
            else if ( event.which == 119 ) {
                for (let i = 0; i < 5; i++) {
                    let l = $(".obj2").position().top;
                    if(l <= 0){
                        break;
                    }
                    else{
                        $(".obj2").css( "top", l-1);
                    }
                }
            }
            else if ( event.which == 115 ) {
                for (let i = 0; i < 5; i++) {
                    let l = $(".obj2").position().top;
                    if(l >= $(".win2").height()-$(".obj2").height()){
                        break;
                    }
                    else{
                        $(".obj2").css( "top", l+1);
                    }
                }
            }
        });


        $(document).ready(function(){
            $("#btn1").click(function(){
                $("*").hide();
                
            });
        });
        $(document).ready(function(){
            $("#btn2").click(function(){
                $(this).hide();
                
            });
        });
        $(document).ready(function(){
            $("#btn3").click(function(){
                $("p.intro").hide();
                
            });
        });
        $(document).ready(function(){
            $("#btn4").click(function(){
                $("p:first").hide();
            });
        });
        $(document).ready(function(){
            $("#btn5").click(function(){
                $("ul li:first").hide();
            });
        });
        $(document).ready(function(){
            $("#btn6").click(function(){
                $("ul li:first-child").hide();
            });
        });
        $(document).ready(function(){
            $("#btn7").click(function(){
                $("[href]").hide();
            });
        });
        $(document).ready(function(){
            $("#btn8").click(function(){
                $("a[target='_blank']").hide();
            });
        });
        $(document).ready(function(){
            $("#btn9").click(function(){
                $("a[target!='_blank']").hide();
            });
        });
        $(document).ready(function(){
            $("#btn10").click(function(){
                $(":button").hide();
            });
        });
        $(document).ready(function(){
            $("#btn11").click(function(){
                $("tr:even").hide();
            });
        });
        $(document).ready(function(){
            $("#btn12").click(function(){
                $("tr:odd").hide();
            });
        });
    </script>
</body>
</html>